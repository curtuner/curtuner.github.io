{"md5":"ec9fe3709b8e809cd9ee214f8b8b5a51","content":"\n\n\n<div id=\"outline-container-sec-1\" class=\"outline-2\">\n<h2 id=\"sec-1\"><span class=\"section-number-2\">1</span> 概述</h2>\n<div class=\"outline-text-2\" id=\"text-1\">\n<p>\n802.1Q协议规定了VLAN的实现，\n</p>\n</div>\n</div>\n<div id=\"outline-container-sec-2\" class=\"outline-2\">\n<h2 id=\"sec-2\"><span class=\"section-number-2\">2</span> <span class=\"todo TODO\">TODO</span> VLAN成员定义的方法</h2>\n<div class=\"outline-text-2\" id=\"text-2\">\n<p>\n核心问题在于维护MAC地址和VLAN的映射\n</p>\n</div>\n<div id=\"outline-container-sec-2-1\" class=\"outline-3\">\n<h3 id=\"sec-2-1\"><span class=\"section-number-3\">2.1</span> 使用交换机的端口来划分</h3>\n<div class=\"outline-text-3\" id=\"text-2-1\">\n<p>\n指定一台交换机端口所属的VLAN。对于多个交换机的情形\n</p>\n</div>\n</div>\n<div id=\"outline-container-sec-2-2\" class=\"outline-3\">\n<h3 id=\"sec-2-2\"><span class=\"section-number-3\">2.2</span> MAC地址划分VLAN</h3>\n<div class=\"outline-text-3\" id=\"text-2-2\">\n<p>\n一个大的问题是配置难度，一一映射的构造和修改是各大工程\n</p>\n</div>\n</div>\n<div id=\"outline-container-sec-2-3\" class=\"outline-3\">\n<h3 id=\"sec-2-3\"><span class=\"section-number-3\">2.3</span> 根据网络层划分VLAN</h3>\n<div class=\"outline-text-3\" id=\"text-2-3\">\n<p>\n如使用IP地址或者协议，但是实际上可以用\n</p>\n</div>\n</div>\n<div id=\"outline-container-sec-2-4\" class=\"outline-3\">\n<h3 id=\"sec-2-4\"><span class=\"section-number-3\">2.4</span> IP组播作为VLAN</h3>\n</div>\n</div>\n<div id=\"outline-container-sec-3\" class=\"outline-2\">\n<h2 id=\"sec-3\"><span class=\"section-number-2\">3</span> 交换机和以太网</h2>\n</div>\n<div id=\"outline-container-sec-4\" class=\"outline-2\">\n<h2 id=\"sec-4\"><span class=\"section-number-2\">4</span> <span class=\"todo TODO\">TODO</span> 关键问题</h2>\n<div class=\"outline-text-2\" id=\"text-4\">\n</div><div id=\"outline-container-sec-4-1\" class=\"outline-3\">\n<h3 id=\"sec-4-1\"><span class=\"section-number-3\">4.1</span> <span class=\"todo TODO\">TODO</span> 交换机如何沟通VLAN信息</h3>\n</div>\n</div>\n<div id=\"outline-container-sec-5\" class=\"outline-2\">\n<h2 id=\"sec-5\"><span class=\"section-number-2\">5</span> <span class=\"todo TODO\">TODO</span> 802.1Q协议</h2>\n<div class=\"outline-text-2\" id=\"text-5\">\n</div><div id=\"outline-container-sec-5-1\" class=\"outline-3\">\n<h3 id=\"sec-5-1\"><span class=\"section-number-3\">5.1</span> <span class=\"todo TODO\">TODO</span> 协议二进制数据格式</h3>\n<div class=\"outline-text-3\" id=\"text-5-1\">\n<p>\n在以太网帧源地址后增加了一个4字节的802.1Q桢头。其中分为两部分，2个字节的标签控制标识TPID，和标签控制信息\n</p>\n</div>\n</div>\n<div id=\"outline-container-sec-5-2\" class=\"outline-3\">\n<h3 id=\"sec-5-2\"><span class=\"section-number-3\">5.2</span> <span class=\"todo TODO\">TODO</span> 实现了交换机的网络的工作流程</h3>\n<div class=\"outline-text-3\" id=\"text-5-2\">\n</div><div id=\"outline-container-sec-5-2-1\" class=\"outline-4\">\n<h4 id=\"sec-5-2-1\"><span class=\"section-number-4\">5.2.1</span> 接收数据</h4>\n<div class=\"outline-text-4\" id=\"text-5-2-1\">\n<p>\n看以太网帧是否有802.1Q字段，没有则根据端口添加\n</p>\n</div>\n</div>\n<div id=\"outline-container-sec-5-2-2\" class=\"outline-4\">\n<h4 id=\"sec-5-2-2\"><span class=\"section-number-4\">5.2.2</span> 发送数据</h4>\n</div>\n</div>\n</div>\n<div id=\"outline-container-sec-6\" class=\"outline-2\">\n<h2 id=\"sec-6\"><span class=\"section-number-2\">6</span> 思考</h2>\n<div class=\"outline-text-2\" id=\"text-6\">\n<ul class=\"org-ul\">\n<li>不同\n</li>\n</ul>\n</div>\n</div>\n<div id=\"outline-container-sec-7\" class=\"outline-2\">\n<h2 id=\"sec-7\"><span class=\"section-number-2\">7</span> FAQ</h2>\n<div class=\"outline-text-2\" id=\"text-7\">\n</div><div id=\"outline-container-sec-7-1\" class=\"outline-3\">\n<h3 id=\"sec-7-1\"><span class=\"section-number-3\">7.1</span> PVID的含义？</h3>\n<div class=\"outline-text-3\" id=\"text-7-1\">\n<p>\nPVID为Port-base Vlan ID，也就是端口的虚拟局域网ID号，关系到端口收发数据帧时的VLAN TAG 标记\n</p>\n</div>\n</div>\n<div id=\"outline-container-sec-7-2\" class=\"outline-3\">\n<h3 id=\"sec-7-2\"><span class=\"section-number-3\">7.2</span> 计算机如何实现802.1Q？</h3>\n<div class=\"outline-text-3\" id=\"text-7-2\">\n<p>\n计算机一般还不能处理包含该信息的帧，802.1Q帧由交换机来处理\n</p>\n</div>\n</div>\n<div id=\"outline-container-sec-7-3\" class=\"outline-3\">\n<h3 id=\"sec-7-3\"><span class=\"section-number-3\">7.3</span> VLAN只在交换机中吗？</h3>\n<div class=\"outline-text-3\" id=\"text-7-3\">\n<p>\n不是，也有用路由器的实现\n</p>\n</div>\n</div>\n<div id=\"outline-container-sec-7-4\" class=\"outline-3\">\n<h3 id=\"sec-7-4\"><span class=\"section-number-3\">7.4</span> 线速转发？</h3>\n<div class=\"outline-text-3\" id=\"text-7-4\">\n<p>\n端口在满负载的情况下，对帧进行无差错的转发称为线速转发。\n</p>\n</div>\n</div>\n</div>\n<div id=\"outline-container-sec-8\" class=\"outline-2\">\n<h2 id=\"sec-8\"><span class=\"section-number-2\">8</span> 未来有价值但目前不完整的点</h2>\n<div class=\"outline-text-2\" id=\"text-8\">\n<p>\n交换机一般通过交换芯片转发数据，路由器是通过CPU转发的\n</p>\n</div>\n</div>\n<div id=\"outline-container-sec-9\" class=\"outline-2\">\n<h2 id=\"sec-9\"><span class=\"section-number-2\">9</span> 参考文献</h2>\n<div class=\"outline-text-2\" id=\"text-9\">\n<ul class=\"org-ul\">\n<li><a href=\"http://www.net130.com/netbass/netmanger/20040519031.htm\">http://www.net130.com/netbass/netmanger/20040519031.htm</a>\n</li>\n</ul>\n</div>\n</div>\n\nLast Updated 2018-03-04 日 03:01.<br>Render by <a href=\"https://github.com/CodeFalling/hexo-renderer-org\">hexo-renderer-org</a> with <a href=\"http://www.gnu.org/software/emacs/\">Emacs</a> 25.3.1 (<a href=\"http://orgmode.org\">Org</a> mode 8.2.10)\n"}
