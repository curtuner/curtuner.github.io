{"md5":"3b6f8c2b57c30d1af63fa91b0bae3a46","content":"\n\n\n<div id=\"outline-container-sec-1\" class=\"outline-2\">\n<h2 id=\"sec-1\"><span class=\"section-number-2\">1</span> 前言</h2>\n<div class=\"outline-text-2\" id=\"text-1\">\n<p>\n自从主流Linux发行版大都把net-tools换成了iproute2之后，偶尔想搜个命令都麻烦，所以还是记一下比较好。\n</p>\n</div>\n</div>\n<div id=\"outline-container-sec-2\" class=\"outline-2\">\n<h2 id=\"sec-2\"><span class=\"section-number-2\">2</span> iproute2 简述</h2>\n</div>\n<div id=\"outline-container-sec-3\" class=\"outline-2\">\n<h2 id=\"sec-3\"><span class=\"section-number-2\">3</span> 常用操作</h2>\n<div class=\"outline-text-2\" id=\"text-3\">\n</div><div id=\"outline-container-sec-3-1\" class=\"outline-3\">\n<h3 id=\"sec-3-1\"><span class=\"section-number-3\">3.1</span> 建立虚拟网卡</h3>\n<div class=\"outline-text-3\" id=\"text-3-1\">\n<p>\n利用iproute2可以很容易做到：\n</p>\n<div class=\"org-src-container\">\n\n<figure class=\"highlight sh\"><table><tr><td class=\"code\"><pre><span class=\"line\">ip link add link eth0 name mymon <span class=\"built_in\">type</span> nlmon</span><br></pre></td></tr></table></figure>\n</div>\n<p>\n以上是以eth0作为物理接口，建立的名字叫做mymon的nlmon的接口。具体的可以直接\n</p>\n</div>\n</div>\n<div id=\"outline-container-sec-3-2\" class=\"outline-3\">\n<h3 id=\"sec-3-2\"><span class=\"section-number-3\">3.2</span> 查看arp表</h3>\n<div class=\"outline-text-3\" id=\"text-3-2\">\n<div class=\"org-src-container\">\n\n<figure class=\"highlight sh\"><table><tr><td class=\"code\"><pre><span class=\"line\">ip neigh</span><br></pre></td></tr></table></figure>\n</div>\n</div>\n</div>\n<div id=\"outline-container-sec-3-3\" class=\"outline-3\">\n<h3 id=\"sec-3-3\"><span class=\"section-number-3\">3.3</span> 查看路由表</h3>\n<div class=\"outline-text-3\" id=\"text-3-3\">\n<div class=\"org-src-container\">\n\n<figure class=\"highlight sh\"><table><tr><td class=\"code\"><pre><span class=\"line\">ip route</span><br></pre></td></tr></table></figure>\n</div>\n</div>\n</div>\n<div id=\"outline-container-sec-3-4\" class=\"outline-3\">\n<h3 id=\"sec-3-4\"><span class=\"section-number-3\">3.4</span> 设置默认路由</h3>\n<div class=\"outline-text-3\" id=\"text-3-4\">\n<p>\n设置网卡eth0的默认路由是192.168.106.1\n</p>\n<div class=\"org-src-container\">\n\n<figure class=\"highlight sh\"><table><tr><td class=\"code\"><pre><span class=\"line\">ip route add default via <span class=\"number\">192.168</span>.<span class=\"number\">106.1</span> dev eth0</span><br></pre></td></tr></table></figure>\n</div>\n</div>\n</div>\n</div>\n<div id=\"outline-container-sec-4\" class=\"outline-2\">\n<h2 id=\"sec-4\"><span class=\"section-number-2\">4</span> 启动和关闭接口</h2>\n<div class=\"outline-text-2\" id=\"text-4\">\n<p>\n5启动网络接口：\n</p>\n<div class=\"org-src-container\">\n\n<figure class=\"highlight sh\"><table><tr><td class=\"code\"><pre><span class=\"line\">ip link <span class=\"built_in\">set</span> dev eth up</span><br></pre></td></tr></table></figure>\n</div>\n<p>\n关闭网络接口：\n</p>\n<div class=\"org-src-container\">\n\n<figure class=\"highlight sh\"><table><tr><td class=\"code\"><pre><span class=\"line\">ip link <span class=\"built_in\">set</span> dev eth0 down</span><br></pre></td></tr></table></figure>\n</div>\n</div>\n</div>\n<div id=\"outline-container-sec-5\" class=\"outline-2\">\n<h2 id=\"sec-5\"><span class=\"section-number-2\">5</span> 设置IP</h2>\n<div class=\"outline-text-2\" id=\"text-5\">\n<p>\n启动网络接口：\n</p>\n<div class=\"org-src-container\">\n\n<figure class=\"highlight sh\"><table><tr><td class=\"code\"><pre><span class=\"line\">ip link <span class=\"built_in\">set</span> dev eth up</span><br></pre></td></tr></table></figure>\n</div>\n<p>\n关闭网络接口：\n</p>\n<div class=\"org-src-container\">\n\n<figure class=\"highlight sh\"><table><tr><td class=\"code\"><pre><span class=\"line\">ip link <span class=\"built_in\">set</span> dev eth0 down</span><br></pre></td></tr></table></figure>\n</div>\n</div>\n</div>\n<div id=\"outline-container-sec-6\" class=\"outline-2\">\n<h2 id=\"sec-6\"><span class=\"section-number-2\">6</span> ARP表的操作</h2>\n<div class=\"outline-text-2\" id=\"text-6\">\n<p>\n使用iproute2来查看arp表\n</p>\n<div class=\"org-src-container\">\n\n<figure class=\"highlight sh\"><table><tr><td class=\"code\"><pre><span class=\"line\">ip neigh</span><br></pre></td></tr></table></figure>\n</div>\n<p>\n在本地添加一个 <b>静态ARP项</b> \n</p>\n</div>\n</div>\n\nLast Updated 2018-03-04 日 03:01.<br>Render by <a href=\"https://github.com/CodeFalling/hexo-renderer-org\">hexo-renderer-org</a> with <a href=\"http://www.gnu.org/software/emacs/\">Emacs</a> 25.3.1 (<a href=\"http://orgmode.org\">Org</a> mode 8.2.10)\n"}
